document.addEventListener('DOMContentLoaded', function() {
    var container = document.getElementById('id_specifications'); // Replace with your field ID
    var options = {
        mode: 'code', // Set mode to 'code' for better editing experience
        onChange: function() {
            // Optional: Triggered when JSON content changes
        },
        onError: function(err) {
            // Optional: Handle errors
            console.error(err.toString());
        }
    };
    var editor = new JSONEditor(container, options);

    // Optional: Synchronize editor content with textarea
    var textarea = document.getElementById('id_specifications');
    editor.set(JSON.parse(textarea.value || '{}'));
    textarea.style.display = 'none';
    editor.on('change', function() {
        textarea.value = JSON.stringify(editor.get());
    });
});
